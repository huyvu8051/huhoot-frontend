webpackJsonp([6],{c5es:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("woOf"),i=a.n(n),s=a("cWFF"),o=a("G+1z"),d=a("/uof"),r=a("y/UO"),l=a("BB70"),c=a("6FjK"),u=a("ESwS"),m=a("+cKO"),v={components:{DateFormater:d.a,ImageDataTable:o.a,ImageWrapper:l.a,OpenChallenge:r.a,DataTableRouterIcon:c.a},mixins:[u.validationMixin],validations:{editedItem:{username:{required:m.required,maxLength:Object(m.maxLength)(15),startWith:function(t){return/^(admin).*$/.test(t)}}}},data:function(){return{dialog:!1,dialogDelete:!1,headers:[{text:"Id",value:"id",align:"start",sortable:!0},{text:"Username",value:"username"},{text:"Created date",value:"createdDate"},{text:"Created by",value:"createdBy"},{text:"Modified date",value:"modifiedDate"},{text:"Modified by",value:"modifiedBy"},{text:"Non locked",value:"isNonLocked"},{text:"Actions",value:"actions",sortable:!1}],desserts:[],editedIndex:-1,editedItem:{id:0,username:"",isNonLocked:!0},defaultItem:{id:0,username:"",isNonLocked:!0},totalDesserts:0,loading:!0,options:{}}},computed:{usernameErrors:function(){var t=[];return this.$v.editedItem.username.$dirty?(!this.$v.editedItem.username.required&&t.push("Username required!"),!this.$v.editedItem.username.maxLength&&t.push("Username must less than 15"),!this.$v.editedItem.username.startWith&&t.push("Username must start with 'admin'"),t):t},formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}},watch:{dialog:function(t){t||this.close()},dialogDelete:function(t){t||this.closeDelete()},options:{handler:function(){this.getDataFromApi()},deep:!0}},methods:{editItem:function(t){this.editedIndex=this.desserts.indexOf(t),this.editedItem=i()({},t),this.dialog=!0},deleteItem:function(t){this.editedIndex=this.desserts.indexOf(t),this.editedItem=i()({},t),this.dialogDelete=!0},deleteItemConfirm:function(){var t=this;this.loading=!0,s.a.updateHost(i()(this.editedItem,{isNonLocked:!1})).catch(console.log).finally(function(){t.loading=!1,t.getDataFromApi()}),this.closeDelete(),this.loading=!1},close:function(){var t=this;this.dialog=!1,this.$nextTick(function(){t.editedItem=i()({},t.defaultItem),t.editedIndex=-1})},closeDelete:function(){var t=this;this.dialogDelete=!1,this.$nextTick(function(){t.editedItem=i()({},t.defaultItem),t.editedIndex=-1})},save:function(){var t=this;this.$v.$touch(),this.$v.$anyError||(this.loading=!0,this.editedIndex>-1?s.a.updateHost(i()({},this.editedItem)).catch(console.log).finally(function(){t.loading=!1,t.getDataFromApi()}):s.a.addHost(i()({},this.editedItem)).catch(console.log).finally(function(){t.loading=!1,t.getDataFromApi()}),this.close())},getDataFromApi:function(){var t=this;this.loading=!0,s.a.findAllHost(this.options).then(function(e){t.desserts=e.data.list,t.totalDesserts=e.data.totalElements}).catch(console.log).finally(this.loading=!1)}}},f={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.desserts,options:t.options,"server-items-length":t.totalDesserts,loading:t.loading,"footer-props":{"items-per-page-options":[5,10,20,30,50,100,{text:"All",value:999}]},"disable-sort":""},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("List Student")]),t._v(" "),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),a("v-spacer"),t._v(" "),a("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",i,!1),n),[t._v("\n              New Item\n            ")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[t._v(" "),a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[t._v(t._s(t.formTitle))])]),t._v(" "),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Username",counter:"15","error-messages":t.usernameErrors,required:""},on:{input:function(e){return t.$v.editedItem.username.$touch()},blur:function(e){return t.$v.editedItem.username.$touch()}},model:{value:t.editedItem.username,callback:function(e){t.$set(t.editedItem,"username",e)},expression:"editedItem.username"}})],1),t._v(" "),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-switch",{attrs:{label:"Non deleted"},model:{value:t.editedItem.isNonLocked,callback:function(e){t.$set(t.editedItem,"isNonLocked",e)},expression:"editedItem.isNonLocked"}})],1)],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("\n                Cancel\n              ")]),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v(" Save ")])],1)],1)],1),t._v(" "),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[t._v("\n              Are you sure you want to delete this item?\n            ")]),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("\n                Cancel\n              ")]),t._v(" "),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm}},[t._v("\n                OK\n              ")]),t._v(" "),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var n=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(n)}}},[t._v(" mdi-pencil ")]),t._v(" "),a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.deleteItem(n)}}},[t._v("\n        mdi-delete\n      ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.getDataFromApi()}}},[t._v(" Reset ")])]},proxy:!0},{key:"item.createdDate",fn:function(t){var e=t.item;return[a("DateFormater",{attrs:{date:e.createdDate}})]}},{key:"item.modifiedDate",fn:function(t){var e=t.item;return[a("DateFormater",{attrs:{date:e.modifiedDate}})]}}],null,!0)})],1)},staticRenderFns:[]},h=a("VU/8")(v,f,!1,null,null,null);e.default=h.exports},cWFF:function(t,e,a){"use strict";var n=a("w8lG");e.a={findAllStudent:function(t){return Object(n.a)().get("admin/student",{params:t})},updateStudent:function(t){return Object(n.a)().patch("admin/student",t)},addStudent:function(t){return Object(n.a)().post("admin/student",t)},addManyStudent:function(t){return Object(n.a)().post("admin/manyStudent",t)},findAllHost:function(t){return Object(n.a)().get("admin/host",{params:t})},addHost:function(t){return Object(n.a)().post("admin/host",t)},updateHost:function(t){return Object(n.a)().patch("admin/host",t)}}}});
//# sourceMappingURL=6.02a94503e42a14d8867c.js.map