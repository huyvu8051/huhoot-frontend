webpackJsonp([5],{crrv:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("woOf"),n=a.n(i),r=a("w8lG"),s=function(e){return Object(r.a)().get("admin/student",{params:e})},l=function(e){return Object(r.a)().patch("admin/student",e)},o=function(e){return Object(r.a)().post("admin/student",e)},d=a("G+1z"),u=a("/uof"),c=a("y/UO"),m=a("BB70"),v=a("6FjK"),f=a("ESwS"),h=a("+cKO"),p={components:{DateFormater:u.a,ImageDataTable:d.a,ImageWrapper:m.a,OpenChallenge:c.a,DataTableRouterIcon:v.a},mixins:[f.validationMixin],validations:{editedItem:{username:{required:h.required,allNumber:function(e){var t=/^\d{10}$/.test(e);return t}},fullName:{required:h.required,maxLength:Object(h.maxLength)(50),minLength:Object(h.minLength)(5)}}},data:function(){return{dialog:!1,dialogDelete:!1,headers:[{text:"Id",value:"id",align:"start",sortable:!0},{text:"Username",value:"username"},{text:"Full name",value:"fullName"},{text:"Created date",value:"createdDate"},{text:"Created by",value:"createdBy"},{text:"Modified date",value:"modifiedDate"},{text:"Modified by",value:"modifiedBy"},{text:"Non locked",value:"isNonLocked"},{text:"Actions",value:"actions",sortable:!1}],desserts:[],editedIndex:-1,editedItem:{id:0,username:"",fullName:"",isNonLocked:!0},defaultItem:{id:0,username:"",fullName:"",isNonLocked:!0},totalDesserts:0,loading:!0,options:{}}},computed:{usernameErrors:function(){var e=[];return this.$v.editedItem.username.$dirty?(!this.$v.editedItem.username.required&&e.push("Username required!"),!this.$v.editedItem.username.allNumber&&e.push("Username length equal 10 with all number"),e):e},fullNameErrors:function(){var e=[];return this.$v.editedItem.fullName.$dirty?(!this.$v.editedItem.fullName.required&&e.push("Fullname required!"),!this.$v.editedItem.fullName.maxLength&&e.push("Fullname length less than 50!"),!this.$v.editedItem.fullName.minLength&&e.push("Fullname length greater than 5!"),e):e},formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()},options:{handler:function(){this.getDataFromApi()},deep:!0}},methods:{editItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=n()({},e),this.dialog=!0},deleteItem:function(e){this.editedIndex=this.desserts.indexOf(e),this.editedItem=n()({},e),this.dialogDelete=!0},deleteItemConfirm:function(){var e=this;this.loading=!0,l({id:this.editedItem.id,isNonDeleted:!1}).catch(console.log).finally(function(){e.loading=!1,e.getDataFromApi()}),this.closeDelete(),this.loading=!1},close:function(){var e=this;this.dialog=!1,this.$nextTick(function(){e.editedItem=n()({},e.defaultItem),e.editedIndex=-1})},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick(function(){e.editedItem=n()({},e.defaultItem),e.editedIndex=-1})},save:function(){var e=this;this.$v.$touch(),this.$v.$anyError||(this.loading=!0,this.editedIndex>-1?l(n()({},this.editedItem)).catch(console.log).finally(function(){e.loading=!1,e.getDataFromApi()}):o(n()({},this.editedItem)).catch(console.log).finally(function(){e.loading=!1,e.getDataFromApi()}),this.close())},getDataFromApi:function(){var e=this;this.loading=!0,s(this.options).then(function(t){e.desserts=t.data.list,e.totalDesserts=t.data.totalElements}).catch(console.log).finally(this.loading=!1)}}},g={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-flex",{attrs:{xs12:"",sm12:"",md12:""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.desserts,options:e.options,"server-items-length":e.totalDesserts,loading:e.loading,"footer-props":{"items-per-page-options":[5,10,20,30,50,100,{text:"All",value:999}]},"disable-sort":""},on:{"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("List Student")]),e._v(" "),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e._v(" "),a("v-spacer"),e._v(" "),a("v-dialog",{attrs:{"max-width":"1000px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,n=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",n,!1),i),[e._v("\n              New Item\n            ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[e._v(" "),a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),e._v(" "),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Username",counter:"10","error-messages":e.usernameErrors,required:""},on:{input:function(t){return e.$v.editedItem.username.$touch()},blur:function(t){return e.$v.editedItem.username.$touch()}},model:{value:e.editedItem.username,callback:function(t){e.$set(e.editedItem,"username",t)},expression:"editedItem.username"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"FullName",counter:"50","error-messages":e.fullNameErrors,required:""},on:{input:function(t){return e.$v.editedItem.fullName.$touch()},blur:function(t){return e.$v.editedItem.fullName.$touch()}},model:{value:e.editedItem.fullName,callback:function(t){e.$set(e.editedItem,"fullName",t)},expression:"editedItem.fullName"}})],1),e._v(" "),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-switch",{attrs:{label:"Non deleted"},model:{value:e.editedItem.isNonLocked,callback:function(t){e.$set(e.editedItem,"isNonLocked",t)},expression:"editedItem.isNonLocked"}})],1)],1)],1)],1),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("\n                Cancel\n              ")]),e._v(" "),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.save}},[e._v(" Save ")])],1)],1)],1),e._v(" "),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("\n              Are you sure you want to delete this item?\n            ")]),e._v(" "),a("v-card-actions",[a("v-spacer"),e._v(" "),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("\n                Cancel\n              ")]),e._v(" "),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("\n                OK\n              ")]),e._v(" "),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editItem(i)}}},[e._v(" mdi-pencil ")]),e._v(" "),a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.deleteItem(i)}}},[e._v("\n        mdi-delete\n      ")])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.getDataFromApi()}}},[e._v(" Reset ")])]},proxy:!0},{key:"item.createdDate",fn:function(e){var t=e.item;return[a("DateFormater",{attrs:{date:t.createdDate}})]}},{key:"item.modifiedDate",fn:function(e){var t=e.item;return[a("DateFormater",{attrs:{date:t.modifiedDate}})]}}],null,!0)})],1)},staticRenderFns:[]},I=a("VU/8")(p,g,!1,null,null,null);t.default=I.exports}});
//# sourceMappingURL=5.a22c3e256821eabd3dbe.js.map